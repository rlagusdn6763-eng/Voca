<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>학습하기</title>
  <style>
    /* === index와 동일한 스타일 (필요한 부분만 복사) === */
    :root{
      --appbar-h: 64px;
      --brand: linear-gradient(90deg,#1565d8,#1e88e5);
      --bg: #f6f8fb;
      --card: #ffffff;
      --text: #0f172a;
      --muted: #64748b;
      --primary: #2563eb;
      --danger: #e11d48;
      --radius: 14px;
      --shadow: 0 8px 30px rgba(2,12,27,.08);
    }
    *{box-sizing:border-box}
    body{margin:0; background:var(--bg); color:var(--text); font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Noto Sans KR",Apple SD Gothic Neo,"Helvetica Neue",Arial,sans-serif; padding-top:var(--appbar-h)}
    .appbar{position:fixed; inset:0 0 auto 0; height:var(--appbar-h); background:var(--brand); color:#fff; z-index:1000; display:flex; align-items:center; justify-content:center; box-shadow:0 2px 10px rgba(0,0,0,.06)}
    .appbar__inner{width:min(100%, 1000px); display:flex; align-items:center; justify-content:space-between; padding:0 14px}
    .appbar__title{font-size:20px; font-weight:800; letter-spacing:.2px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .icon-btn{width:44px; height:44px; display:grid; place-items:center; border-radius:12px; background:rgba(255,255,255,.14); color:#fff; border:none; outline:none; cursor:pointer}
    .container{width:min(100%, 960px); margin:16px auto 60px; padding:0 14px}
    .card{background:#fff; border-radius:var(--radius); box-shadow:var(--shadow); padding:16px}
    .backdrop{position:fixed; inset:0; background:rgba(15,23,42,.4); opacity:0; visibility:hidden; transition:.2s ease; z-index:2000}
    .backdrop.show{opacity:1; visibility:visible}
    .drawer{position:fixed; inset:0 auto 0 0; width:min(90vw, 440px); background:#fff; transform:translateX(-100%); transition:transform .25s ease; z-index:2001; overflow:auto; padding-bottom:40px}
    .drawer.show{transform:translateX(0)}
    .drawer__head{position:sticky; top:0; background:#fff; padding:16px 18px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid #eef2f7; z-index:1}
    .drawer__title{font-size:22px; font-weight:800}
    .chip{display:inline-flex; align-items:center; gap:8px; background:#eef2ff; color:#1e3a8a; padding:8px 10px; border-radius:999px; font-weight:700}
    .sq-btn{height:44px; padding:0 16px; border-radius:12px; border:1px solid #e6eaf2; background:#fff; cursor:pointer; font-weight:700; box-shadow:var(--shadow)}
    .danger{color:#fff; background:var(--danger)}
  </style>
</head>
<body>
  <!-- AppBar -->
  <header class="appbar" role="banner" aria-label="상단바">
    <div class="appbar__inner">
      <div class="appbar__title">학습하기</div>
      <div style="display:flex; gap:8px; align-items:center">
        <a href="index.html" class="icon-btn" aria-label="돌아가기" title="메인으로">←</a>
        <button id="menuBtn" class="icon-btn" aria-haspopup="dialog" aria-controls="accountDrawer" aria-expanded="false" title="계정">⋮</button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="card">
      <h2 style="margin:0 0 10px 0">오늘의 학습</h2>
      <div id="studyRoot">문제 영역이 여기에 렌더링됩니다…</div>
      <div style="display:flex; gap:10px; margin-top:12px">
        <button id="studyPrevBtn" class="sq-btn">이전</button>
        <button id="studyNextBtn" class="sq-btn">다음</button>
        <button id="studyExitBtn" class="sq-btn">끝내기</button>
      </div>
    </div>
  </main>

  <!-- Drawer Backdrop / Drawer (index와 동일) -->
  <div id="drawerBackdrop" class="backdrop" tabindex="-1" aria-hidden="true"></div>
  <aside id="accountDrawer" class="drawer" role="dialog" aria-modal="true" aria-label="계정 패널" aria-hidden="true">
    <div class="drawer__head">
      <div class="drawer__title">계정</div>
      <button id="drawerCloseBtn" class="icon-btn" aria-label="닫기">✕</button>
    </div>

    <div style="padding:18px">
      <div id="drawerLoggedOut" style="display:none">
        <div style="color:#64748b">이메일로 로그인</div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:8px">
          <input id="emailInput" class="sq-btn" placeholder="you@example.com" inputmode="email" />
          <input id="passwordInput" class="sq-btn" placeholder="8자리 이상" type="password" />
        </div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px">
          <button id="loginBtn" class="sq-btn" style="background:#10b981; color:#fff; border-color:#10b981">로그인</button>
          <button id="signupOpenBtn" class="sq-btn">회원가입</button>
        </div>
        <div style="margin-top:12px">
          <button id="googleLoginBtn" class="sq-btn" style="width:100%">Google로 로그인</button>
        </div>
      </div>

      <div id="drawerLoggedIn" style="display:none">
        <div class="chip">로그인됨</div>
        <div class="card" style="padding:12px; margin-top:12px">
          <div><strong>이메일</strong> <span id="profileEmail"></span></div>
          <div style="margin-top:8px"><strong>닉네임</strong> <span id="profileNickname"></span></div>
        </div>
        <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px">
          <button id="openProfileEditBtn" class="sq-btn">정보 수정</button>
          <button id="logoutBtn" class="sq-btn danger">로그아웃</button>
        </div>
      </div>
    </div>
  </aside>

  <!-- Drawer/헤더 제어 (index와 동일) -->
  <script>
    (function(){
      const menuBtn = document.getElementById('menuBtn');
      const drawer = document.getElementById('accountDrawer');
      const backdrop = document.getElementById('drawerBackdrop');
      const closeBtn = document.getElementById('drawerCloseBtn');

      const openDrawer = () => {
        drawer.classList.add('show');
        drawer.setAttribute('aria-hidden','false');
        backdrop.classList.add('show');
        backdrop.setAttribute('aria-hidden','false');
        menuBtn.setAttribute('aria-expanded','true');
        setTimeout(()=> drawer.focus?.(), 0);
      };
      const closeDrawer = () => {
        drawer.classList.remove('show');
        drawer.setAttribute('aria-hidden','true');
        backdrop.classList.remove('show');
        backdrop.setAttribute('aria-hidden','true');
        menuBtn.setAttribute('aria-expanded','false');
        menuBtn.focus();
      };
      menuBtn.addEventListener('click', openDrawer);
      backdrop.addEventListener('click', closeDrawer);
      closeBtn.addEventListener('click', closeDrawer);
      window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeDrawer(); });

      // 헤더 높이 보정
      const appbar = document.querySelector('.appbar');
      const syncPadding = () => {
        const h = appbar.getBoundingClientRect().height || 64;
        document.body.style.paddingTop = h + 'px';
      };
      syncPadding();
      window.addEventListener('resize', syncPadding);
    })();
  </script>

  <!-- 여기에 기존 학습 로직 스크립트를 연결하세요 -->
  <!-- <script src="study-logic.js"></script> -->
</body>
</html>
